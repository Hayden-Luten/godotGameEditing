[gd_scene load_steps=10 format=3 uid="uid://ci6thum6dvf1w"]

[ext_resource type="PackedScene" uid="uid://bsub074btdgpj" path="res://player/character.tscn" id="1_2kvv0"]
[ext_resource type="Script" path="res://scenes/main.gd" id="1_t4rka"]
[ext_resource type="PackedScene" uid="uid://3xymbdgojevi" path="res://enemies/enemy.tscn" id="2_skpmg"]

[sub_resource type="NavigationMesh" id="NavigationMesh_1rsep"]
vertices = PackedVector3Array(-1.95445, 1, -8.475, -1.70445, 1, -7.225, 1.79555, 1, -7.225, 12.7956, 1, -24.225, 12.7956, 1, -25.475, -33.2044, 1, -54.475, -39.7044, 1, -54.475, -39.7044, 1, -42.475, -26.4544, 1, -54.475, -33.2044, 1, -54.475, -39.7044, 1, -42.475, -39.7044, 1, -5.975, -8.20445, 1, -5.975, -7.95445, 1, -8.475, -39.7044, 1, -12.225, -26.4544, 1, -54.475, -39.7044, 1, -42.475, -39.7044, 1, -36.475, -19.7044, 1, -54.475, -39.7044, 1, -30.225, -39.7044, 1, -18.225, -7.95445, 1, -8.475, 12.7956, 1, -25.475, -6.45445, 1, -54.475, -12.9544, 1, -54.475, -7.95445, 1, -8.475, -1.95445, 1, -8.475, 12.7956, 1, -25.475, -39.7044, 1, -18.225, -39.7044, 1, -12.225, -7.95445, 1, -8.475, 12.7956, 1, -25.475, 13.7956, 1, -25.725, 13.7956, 1, -54.475, 7.04555, 1, -54.475, 12.7956, 1, -25.475, 0.295551, 1, -54.475, -6.45445, 1, -54.475, -19.7044, 1, -54.475, -39.7044, 1, -36.475, -39.7044, 1, -30.225, -12.9544, 1, -54.475, 12.7956, 1, -25.475, 7.04555, 1, -54.475, 0.295551, 1, -54.475, 39.7956, 1, -47.225, 39.7956, 1, -54.475, 33.2956, 1, -54.475, 39.7956, 1, -47.225, 33.2956, 1, -54.475, 26.7956, 1, -54.475, 39.7956, 1, -39.725, 39.7956, 1, -47.225, 26.7956, 1, -54.475, 20.2956, 1, -54.475, 13.7956, 1, -25.725, 14.7956, 1, -25.725, 39.7956, 1, -32.225, 39.7956, 1, -39.725, 20.2956, 1, -54.475, 13.7956, 1, -54.475, 14.7956, 1, -25.725, 15.0456, 1, -24.725, 39.7956, 1, -24.725, 39.7956, 1, -32.225, 14.5456, 1, -23.475, 13.2956, 1, -23.725, 2.29555, 1, -6.725, 2.29555, 1, -2.975, 39.7956, 1, -2.975, 39.7956, 1, -13.975, 39.7956, 1, -24.725, 15.0456, 1, -24.725, 14.5456, 1, -23.475, 39.7956, 1, -13.975, 1.79555, 1, -7.225, 2.29555, 1, -6.725, 13.2956, 1, -23.725, 12.7956, 1, -24.225, -7.20445, 2.75, -7.475, -7.20445, 2.75, -4.725, -2.70445, 2.75, -4.725, -2.70445, 2.75, -7.475, -1.20445, 1.75, -6.225, -1.20445, 1.75, -3.475, 1.29555, 1.75, -3.475, 1.29555, 1.75, -6.225, 0.545551, 1, -1.725, 0.545551, 1, -2.475, -1.95445, 1, -2.475, -1.20445, 1, -0.474998, 0.0455513, 1, 1.025, -1.20445, 1, 0.525002, -39.7044, 1, 16.525, -39.7044, 1, 24.275, -9.95445, 1, 54.525, 0.0455513, 1, 54.525, -1.20445, 1, 0.525002, -1.20445, 1, -0.474998, -1.95445, 1, -2.475, -7.95445, 1, -3.725, -39.7044, 1, 9.025, -39.7044, 1, 16.525, -1.95445, 1, -2.475, -2.20445, 1, -3.725, -7.95445, 1, -3.725, -7.95445, 1, -3.725, -39.7044, 1, 1.525, -39.7044, 1, 9.025, -39.7044, 1, 46.775, -39.7044, 1, 54.525, -29.9544, 1, 54.525, -39.7044, 1, 39.275, -39.7044, 1, 46.775, -29.9544, 1, 54.525, -39.7044, 1, 31.775, -39.7044, 1, 39.275, -29.9544, 1, 54.525, -19.9544, 1, 54.525, -39.7044, 1, 24.275, -39.7044, 1, 31.775, -19.9544, 1, 54.525, -9.95445, 1, 54.525, -7.95445, 1, -3.725, -8.20445, 1, -5.975, -39.7044, 1, -5.975, -39.7044, 1, 1.525, 0.545551, 1, -2.475, 0.545551, 1, -1.725, 1.29555, 1, -1.475, 2.04555, 1, -2.475, 39.7956, 1, 4.025, 1.29555, 1, 0.0250015, 0.795551, 1, 1.025, 2.04555, 1, -2.475, 1.29555, 1, -1.475, 1.29555, 1, 0.0250015, 2.29555, 1, -2.975, 2.04555, 1, -2.475, 1.29555, 1, 0.0250015, 39.7956, 1, 4.025, 39.7956, 1, -2.975, 29.7956, 1, 54.525, 39.7956, 1, 54.525, 39.7956, 1, 47.275, 29.7956, 1, 54.525, 39.7956, 1, 47.275, 39.7956, 1, 40.025, 29.7956, 1, 54.525, 39.7956, 1, 40.025, 39.7956, 1, 32.775, 19.7956, 1, 54.525, 29.7956, 1, 54.525, 39.7956, 1, 32.775, 39.7956, 1, 25.775, 39.7956, 1, 18.525, 39.7956, 1, 11.275, 0.0455513, 1, 1.025, 0.0455513, 1, 54.525, 9.79555, 1, 54.525, 39.7956, 1, 4.025, 0.795551, 1, 1.025, 0.0455513, 1, 1.025, 39.7956, 1, 11.275, 19.7956, 1, 54.525, 39.7956, 1, 25.775, 39.7956, 1, 18.525, 9.79555, 1, 54.525)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(3, 0, 4), PackedInt32Array(7, 6, 5), PackedInt32Array(9, 8, 10), PackedInt32Array(12, 11, 13), PackedInt32Array(13, 11, 14), PackedInt32Array(16, 15, 17), PackedInt32Array(17, 15, 18), PackedInt32Array(23, 22, 24), PackedInt32Array(24, 22, 21), PackedInt32Array(24, 21, 19), PackedInt32Array(19, 21, 20), PackedInt32Array(27, 26, 25), PackedInt32Array(30, 29, 28), PackedInt32Array(32, 31, 33), PackedInt32Array(33, 31, 34), PackedInt32Array(37, 36, 35), PackedInt32Array(39, 38, 40), PackedInt32Array(40, 38, 41), PackedInt32Array(44, 43, 42), PackedInt32Array(47, 46, 45), PackedInt32Array(50, 49, 48), PackedInt32Array(52, 51, 53), PackedInt32Array(53, 51, 54), PackedInt32Array(56, 55, 57), PackedInt32Array(57, 55, 58), PackedInt32Array(58, 55, 59), PackedInt32Array(59, 55, 60), PackedInt32Array(62, 61, 63), PackedInt32Array(63, 61, 64), PackedInt32Array(66, 65, 67), PackedInt32Array(67, 65, 68), PackedInt32Array(68, 65, 70), PackedInt32Array(68, 70, 69), PackedInt32Array(72, 71, 73), PackedInt32Array(73, 71, 74), PackedInt32Array(78, 77, 75), PackedInt32Array(75, 77, 76), PackedInt32Array(82, 81, 79), PackedInt32Array(79, 81, 80), PackedInt32Array(86, 85, 83), PackedInt32Array(83, 85, 84), PackedInt32Array(87, 90, 88), PackedInt32Array(88, 90, 89), PackedInt32Array(92, 91, 93), PackedInt32Array(93, 91, 94), PackedInt32Array(94, 91, 95), PackedInt32Array(95, 91, 96), PackedInt32Array(98, 97, 99), PackedInt32Array(99, 97, 100), PackedInt32Array(100, 97, 101), PackedInt32Array(101, 97, 102), PackedInt32Array(105, 104, 103), PackedInt32Array(108, 107, 106), PackedInt32Array(111, 110, 109), PackedInt32Array(114, 113, 112), PackedInt32Array(116, 115, 117), PackedInt32Array(117, 115, 118), PackedInt32Array(120, 119, 121), PackedInt32Array(121, 119, 122), PackedInt32Array(124, 123, 125), PackedInt32Array(125, 123, 126), PackedInt32Array(128, 127, 129), PackedInt32Array(129, 127, 130), PackedInt32Array(133, 132, 131), PackedInt32Array(136, 135, 134), PackedInt32Array(138, 137, 139), PackedInt32Array(139, 137, 141), PackedInt32Array(139, 141, 140), PackedInt32Array(144, 143, 142), PackedInt32Array(147, 146, 145), PackedInt32Array(150, 149, 148), PackedInt32Array(153, 152, 154), PackedInt32Array(154, 152, 151), PackedInt32Array(156, 155, 157), PackedInt32Array(157, 155, 159), PackedInt32Array(157, 159, 158), PackedInt32Array(161, 160, 162), PackedInt32Array(162, 160, 163), PackedInt32Array(165, 164, 166), PackedInt32Array(166, 164, 167)]
agent_max_slope = 90.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_os217"]
albedo_color = Color(0, 0, 0, 1)

[sub_resource type="ORMMaterial3D" id="ORMMaterial3D_qm4ic"]
albedo_color = Color(1, 0, 0, 1)

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_x31nb"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_qgy2e"]
sky_material = SubResource("ProceduralSkyMaterial_x31nb")

[sub_resource type="Environment" id="Environment_5yg1a"]
background_mode = 2
sky = SubResource("Sky_qgy2e")
tonemap_mode = 2
glow_enabled = true

[node name="main" type="Node3D"]
process_mode = 3
script = ExtResource("1_t4rka")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
process_mode = 1
navigation_mesh = SubResource("NavigationMesh_1rsep")

[node name="floor" type="CSGBox3D" parent="NavigationRegion3D"]
use_collision = true
size = Vector3(80.4089, 1, 109.95)
material = SubResource("StandardMaterial3D_os217")

[node name="character" parent="NavigationRegion3D" instance=ExtResource("1_2kvv0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.03272, 0)

[node name="Enemy" parent="NavigationRegion3D" instance=ExtResource("2_skpmg")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13.9515, 2.43227, -24.7041)

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.94012, 1.84835, -6.07506)
use_collision = true
size = Vector3(5.31014, 0.819279, 3.42678)

[node name="block1" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.054727, 0.923214, -4.7775)
use_collision = true
size = Vector3(3.2781, 1.04017, 3.47855)
material = SubResource("ORMMaterial3D_qm4ic")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_5yg1a")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 13.9515, 25.4267, -31.5325)
shadow_enabled = true

[node name="spawns" type="Node3D" parent="."]

[node name="location1" type="Node3D" parent="spawns"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 26.2364, 4.68987, -41.8934)

[node name="location2" type="Node3D" parent="spawns"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 26.2364, 4.68987, -30.9751)

[node name="location3" type="Node3D" parent="spawns"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 26.2364, 4.68987, -17.1609)

[node name="location4" type="Node3D" parent="spawns"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 26.2364, 4.68987, -1.93065)

[node name="Timer" type="Timer" parent="."]
process_mode = 1
wait_time = 4.0
autostart = true

[connection signal="GPToggle" from="." to="NavigationRegion3D/character" method="_on_main_gp_toggle"]
[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
