[gd_scene load_steps=10 format=3 uid="uid://ci6thum6dvf1w"]

[ext_resource type="PackedScene" uid="uid://bsub074btdgpj" path="res://player/character.tscn" id="1_2kvv0"]
[ext_resource type="Script" path="res://scenes/main.gd" id="1_t4rka"]
[ext_resource type="PackedScene" uid="uid://3xymbdgojevi" path="res://enemies/enemy.tscn" id="2_skpmg"]

[sub_resource type="NavigationMesh" id="NavigationMesh_1rsep"]
vertices = PackedVector3Array(-31.7044, 1, -54.475, -39.7044, 1, -54.475, -39.7044, 1, -42.475, -31.7044, 1, -54.475, -39.7044, 1, -42.475, -39.7044, 1, -36.475, -23.7044, 1, -54.475, -39.7044, 1, -12.225, -8.20445, 1, -8.225, -7.70445, 1, -8.475, -39.7044, 1, -18.225, -23.7044, 1, -54.475, -39.7044, 1, -36.475, -39.7044, 1, -30.225, -15.7044, 1, -54.475, -39.7044, 1, -5.975, -8.20445, 1, -5.975, -8.20445, 1, -8.225, -39.7044, 1, -12.225, -39.7044, 1, -30.225, -39.7044, 1, -18.225, -7.70445, 1, -8.475, -7.70445, 1, -54.475, -15.7044, 1, -54.475, -1.95445, 1, -8.475, -1.70445, 1, -7.225, 2.04555, 1, -7.225, 17.0456, 1, -19.225, 17.0456, 1, -20.725, 2.29555, 1, -6.725, 17.7956, 1, -18.725, 17.0456, 1, -19.225, 2.04555, 1, -7.225, 17.0456, 1, -20.725, 5.04555, 1, -54.475, -1.45445, 1, -54.475, 17.0456, 1, -20.725, 18.0456, 1, -20.975, 18.0456, 1, -54.475, 11.5456, 1, -54.475, 17.0456, 1, -20.725, 11.5456, 1, -54.475, 5.04555, 1, -54.475, -7.70445, 1, -8.475, -1.95445, 1, -8.475, 17.0456, 1, -20.725, -1.45445, 1, -54.475, -7.70445, 1, -54.475, 39.7956, 1, -45.975, 39.7956, 1, -54.475, 28.7956, 1, -54.475, 39.7956, 1, -37.225, 39.7956, 1, -45.975, 28.7956, 1, -54.475, 18.7956, 1, -20.975, 19.2956, 1, -19.975, 39.7956, 1, -19.975, 39.7956, 1, -28.725, 18.0456, 1, -20.975, 18.7956, 1, -20.975, 39.7956, 1, -28.725, 39.7956, 1, -37.225, 28.7956, 1, -54.475, 18.0456, 1, -54.475, 0.545551, 1, -2.475, 0.545551, 1, -1.725, 1.29555, 1, -1.475, 2.29555, 1, -2.725, 39.7956, 1, -1.475, 39.7956, 1, -10.725, 18.5456, 1, -18.725, 2.29555, 1, -2.725, 1.29555, 1, -1.475, 1.29555, 1, 0.0250015, 18.5456, 1, -18.725, 29.7956, 1, 54.525, 39.7956, 1, 54.525, 39.7956, 1, 45.025, 18.5456, 1, -18.725, 17.7956, 1, -18.725, 2.29555, 1, -6.725, 2.29555, 1, -2.725, 29.7956, 1, 54.525, 39.7956, 1, 45.025, 39.7956, 1, 35.775, 19.7956, 1, 54.525, 39.7956, 1, -19.975, 19.2956, 1, -19.975, 18.5456, 1, -18.725, 39.7956, 1, -10.725, 39.7956, 1, 26.525, 39.7956, 1, 17.275, 0.0455513, 1, 1.025, 0.0455513, 1, 54.525, 9.79555, 1, 54.525, 39.7956, 1, 7.775, 0.795551, 1, 1.025, 0.0455513, 1, 1.025, 39.7956, 1, 17.275, 19.7956, 1, 54.525, 39.7956, 1, 35.775, 39.7956, 1, 26.525, 9.79555, 1, 54.525, 18.5456, 1, -18.725, 1.29555, 1, 0.0250015, 0.795551, 1, 1.025, 39.7956, 1, 7.775, 39.7956, 1, -1.475, -7.20445, 2.75, -7.475, -7.20445, 2.75, -4.725, -2.70445, 2.75, -4.725, -2.70445, 2.75, -7.475, -1.20445, 1.75, -6.225, -1.20445, 1.75, -3.475, 1.29555, 1.75, -3.475, 1.29555, 1.75, -6.225, 0.545551, 1, -1.725, 0.545551, 1, -2.475, -1.95445, 1, -2.475, -1.20445, 1, -0.474998, 0.0455513, 1, 1.025, -1.20445, 1, 0.525002, -39.7044, 1, 16.525, -39.7044, 1, 24.275, -9.95445, 1, 54.525, 0.0455513, 1, 54.525, -1.20445, 1, 0.525002, -1.20445, 1, -0.474998, -1.95445, 1, -2.475, -7.95445, 1, -3.725, -39.7044, 1, 9.025, -39.7044, 1, 16.525, -1.95445, 1, -2.475, -2.20445, 1, -3.725, -7.95445, 1, -3.725, -7.95445, 1, -3.725, -39.7044, 1, 1.525, -39.7044, 1, 9.025, -39.7044, 1, 46.775, -39.7044, 1, 54.525, -29.9544, 1, 54.525, -39.7044, 1, 39.275, -39.7044, 1, 46.775, -29.9544, 1, 54.525, -39.7044, 1, 31.775, -39.7044, 1, 39.275, -29.9544, 1, 54.525, -19.9544, 1, 54.525, -39.7044, 1, 24.275, -39.7044, 1, 31.775, -19.9544, 1, 54.525, -9.95445, 1, 54.525, -7.95445, 1, -3.725, -8.20445, 1, -5.975, -39.7044, 1, -5.975, -39.7044, 1, 1.525)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(4, 3, 5), PackedInt32Array(5, 3, 6), PackedInt32Array(8, 7, 9), PackedInt32Array(9, 7, 10), PackedInt32Array(12, 11, 13), PackedInt32Array(13, 11, 14), PackedInt32Array(16, 15, 17), PackedInt32Array(17, 15, 18), PackedInt32Array(23, 22, 19), PackedInt32Array(19, 22, 20), PackedInt32Array(20, 22, 21), PackedInt32Array(25, 24, 26), PackedInt32Array(26, 24, 27), PackedInt32Array(27, 24, 28), PackedInt32Array(32, 31, 29), PackedInt32Array(29, 31, 30), PackedInt32Array(35, 34, 33), PackedInt32Array(37, 36, 38), PackedInt32Array(38, 36, 39), PackedInt32Array(42, 41, 40), PackedInt32Array(44, 43, 45), PackedInt32Array(45, 43, 46), PackedInt32Array(46, 43, 47), PackedInt32Array(50, 49, 48), PackedInt32Array(53, 52, 51), PackedInt32Array(55, 54, 56), PackedInt32Array(56, 54, 57), PackedInt32Array(59, 58, 60), PackedInt32Array(60, 58, 61), PackedInt32Array(61, 58, 62), PackedInt32Array(62, 58, 63), PackedInt32Array(65, 64, 66), PackedInt32Array(66, 64, 67), PackedInt32Array(70, 69, 68), PackedInt32Array(72, 71, 73), PackedInt32Array(73, 71, 74), PackedInt32Array(77, 76, 75), PackedInt32Array(79, 78, 80), PackedInt32Array(80, 78, 81), PackedInt32Array(83, 82, 84), PackedInt32Array(84, 82, 85), PackedInt32Array(87, 86, 88), PackedInt32Array(88, 86, 89), PackedInt32Array(90, 94, 91), PackedInt32Array(91, 94, 93), PackedInt32Array(91, 93, 92), PackedInt32Array(96, 95, 97), PackedInt32Array(97, 95, 98), PackedInt32Array(100, 99, 101), PackedInt32Array(101, 99, 102), PackedInt32Array(104, 103, 105), PackedInt32Array(105, 103, 107), PackedInt32Array(105, 107, 106), PackedInt32Array(111, 110, 108), PackedInt32Array(108, 110, 109), PackedInt32Array(115, 114, 112), PackedInt32Array(112, 114, 113), PackedInt32Array(116, 119, 117), PackedInt32Array(117, 119, 118), PackedInt32Array(121, 120, 122), PackedInt32Array(122, 120, 123), PackedInt32Array(123, 120, 124), PackedInt32Array(124, 120, 125), PackedInt32Array(127, 126, 128), PackedInt32Array(128, 126, 129), PackedInt32Array(129, 126, 130), PackedInt32Array(130, 126, 131), PackedInt32Array(134, 133, 132), PackedInt32Array(137, 136, 135), PackedInt32Array(140, 139, 138), PackedInt32Array(143, 142, 141), PackedInt32Array(145, 144, 146), PackedInt32Array(146, 144, 147), PackedInt32Array(149, 148, 150), PackedInt32Array(150, 148, 151), PackedInt32Array(153, 152, 154), PackedInt32Array(154, 152, 155)]
agent_max_slope = 90.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_os217"]
albedo_color = Color(0, 0, 0, 1)

[sub_resource type="ORMMaterial3D" id="ORMMaterial3D_qm4ic"]
albedo_color = Color(1, 0, 0, 1)

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_x31nb"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_qgy2e"]
sky_material = SubResource("ProceduralSkyMaterial_x31nb")

[sub_resource type="Environment" id="Environment_5yg1a"]
background_mode = 2
sky = SubResource("Sky_qgy2e")
tonemap_mode = 2
glow_enabled = true

[node name="main" type="Node3D"]
process_mode = 3
script = ExtResource("1_t4rka")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
process_mode = 1
navigation_mesh = SubResource("NavigationMesh_1rsep")

[node name="floor" type="CSGBox3D" parent="NavigationRegion3D"]
use_collision = true
size = Vector3(80.4089, 1, 109.95)
material = SubResource("StandardMaterial3D_os217")

[node name="character" parent="NavigationRegion3D" instance=ExtResource("1_2kvv0")]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.03272, 0)

[node name="enemy" parent="NavigationRegion3D" instance=ExtResource("2_skpmg")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18.0954, 2.28108, -19.9463)

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.94012, 1.84835, -6.07506)
use_collision = true
size = Vector3(5.31014, 0.819279, 3.42678)

[node name="block1" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.054727, 0.923214, -4.7775)
use_collision = true
size = Vector3(3.2781, 1.04017, 3.47855)
material = SubResource("ORMMaterial3D_qm4ic")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_5yg1a")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 13.9515, 25.4267, -31.5325)
shadow_enabled = true

[node name="spawns" type="Node3D" parent="."]

[node name="location1" type="Node3D" parent="spawns"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 26.2364, 4.68987, -41.8934)

[node name="location2" type="Node3D" parent="spawns"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 26.2364, 4.68987, -30.9751)

[node name="location3" type="Node3D" parent="spawns"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 26.2364, 4.68987, -17.1609)

[node name="location4" type="Node3D" parent="spawns"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 26.2364, 4.68987, -1.93065)

[node name="Timer" type="Timer" parent="."]
process_mode = 1
wait_time = 4.0
autostart = true

[connection signal="GPToggle" from="." to="NavigationRegion3D/character" method="_on_main_gp_toggle"]
[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
